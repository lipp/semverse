<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Module: Library/Test-Helpers</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Module: Library/Test-Helpers</h1>

    




<section>

<header>
    
        
            
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><h3>Test helpers</h3><p>This module hosts everything needed for tests.
Abstraction over the expection engine, abstraction over the basic functions,
this module is the Test toolbelt.
Little to no test framework logic should be in unit tests to keep them
focused on code documentation.</p></div>
        

        
            















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_test-helpers.js.html">lib/test-helpers.js</a>, <a href="lib_test-helpers.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".convertIntoComputedProperties"><span class="type-signature">(static) </span>convertIntoComputedProperties<span class="signature">(object)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    



<div class="description">
    <p>Convert an object into another object with computed properties by using the given
object properties names as variables declared in this module.
If they are not defined, this function will assume that they refer to node
modules instead of local ones during the computed property resolution.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>object</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>Input object</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_test-helpers.js.html">lib/test-helpers.js</a>, <a href="lib_test-helpers.js.html#line214">line 214</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Converted object</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>Given an object { a: "foo", b: "bar" }
this function will return an object { [a]: "foo", [b]: "bar" } with a and b
eventually defined as variables in this module.</code></pre>



        
            

    

    <h4 class="name" id=".createResponseMock"><span class="type-signature">(static) </span>createResponseMock<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h4>

    



<div class="description">
    <p>Create an Express-like response mock</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_test-helpers.js.html">lib/test-helpers.js</a>, <a href="lib_test-helpers.js.html#line139">line 139</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Response mock</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".executeTestsInternal"><span class="type-signature">(static) </span>executeTestsInternal<span class="signature">(mode, moduleName, assertions)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    



<div class="description">
    <p>Returns a function that will perform several tests, each with a concatenated
description.
Descriptions will be concatenated to form a test statement that will have this
structure: &quot;Module - Function(): When XXXXXXXXX, it should YYYYYYYYY</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>mode</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>Execution mode(null = normal, skip, or only)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>moduleName</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>Tested module description</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>assertions</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;Object></span>


            
            </td>

            

            

            <td class="description last"><p>Assertion array to perform</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_test-helpers.js.html">lib/test-helpers.js</a>, <a href="lib_test-helpers.js.html#line51">line 51</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Assertions execution results</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".idFn"><span class="type-signature">(static) </span>idFn<span class="signature">(input)</span><span class="type-signature"> &rarr; {Mixed}</span></h4>

    



<div class="description">
    <p>Identity function</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>input</code></td>
            

            <td class="type">
            
                
<span class="param-type">Mixed</span>


            
            </td>

            

            

            <td class="description last"><p>Value to be returned</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_test-helpers.js.html">lib/test-helpers.js</a>, <a href="lib_test-helpers.js.html#line72">line 72</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Same as input</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Mixed</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".nullFn"><span class="type-signature">(static) </span>nullFn<span class="signature">()</span><span class="type-signature"> &rarr; {Null}</span></h4>

    



<div class="description">
    <p>Returns null</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_test-helpers.js.html">lib/test-helpers.js</a>, <a href="lib_test-helpers.js.html#line78">line 78</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Null</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Null</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".nullFnHO"><span class="type-signature">(static) </span>nullFnHO<span class="signature">()</span><span class="type-signature"> &rarr; {function}</span></h4>

    



<div class="description">
    <p>Returns a function that returns null</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_test-helpers.js.html">lib/test-helpers.js</a>, <a href="lib_test-helpers.js.html#line84">line 84</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Function that returns null</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">function</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".rejectFn"><span class="type-signature">(static) </span>rejectFn<span class="signature">(reason)</span><span class="type-signature"> &rarr; {Promise.&lt;String>}</span></h4>

    



<div class="description">
    <p>Returns a rejected Promise</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>reason</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>Rejection reason</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_test-helpers.js.html">lib/test-helpers.js</a>, <a href="lib_test-helpers.js.html#line121">line 121</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Promise rejected with given reason</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;String></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".requireWithStubs"><span class="type-signature">(static) </span>requireWithStubs<span class="signature">(moduleName, customStubs)</span><span class="type-signature"> &rarr; {Mixed}</span></h4>

    



<div class="description">
    <p>Require a module with stubbed dependencies</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>moduleName</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>Module name to proxiquire</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>customStubs</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>Custom stubs for the proxified module</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_test-helpers.js.html">lib/test-helpers.js</a>, <a href="lib_test-helpers.js.html#line235">line 235</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Proxified module</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Mixed</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".resolveFn"><span class="type-signature">(static) </span>resolveFn<span class="signature">(value)</span><span class="type-signature"> &rarr; {Promise.&lt;Mixed>}</span></h4>

    



<div class="description">
    <p>Returns a resolved Promise</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">Mixed</span>


            
            </td>

            

            

            <td class="description last"><p>Resolved value</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_test-helpers.js.html">lib/test-helpers.js</a>, <a href="lib_test-helpers.js.html#line107">line 107</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Promise resolved with given value</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Mixed></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".resolveFnHO"><span class="type-signature">(static) </span>resolveFnHO<span class="signature">(value)</span><span class="type-signature"> &rarr; {function}</span></h4>

    



<div class="description">
    <p>Returns a function that return a resolved Promise with given value</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">Mixed</span>


            
            </td>

            

            

            <td class="description last"><p>Resolved value</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_test-helpers.js.html">lib/test-helpers.js</a>, <a href="lib_test-helpers.js.html#line114">line 114</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Function that returns a resolved Promise with given value</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">function</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".throwFn"><span class="type-signature">(static) </span>throwFn<span class="signature">(message)</span><span class="type-signature"> &rarr; {Error}</span></h4>

    



<div class="description">
    <p>Throws an Error</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>message</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>Error message</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_test-helpers.js.html">lib/test-helpers.js</a>, <a href="lib_test-helpers.js.html#line91">line 91</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Error thrown</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Error</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".throwFnHO"><span class="type-signature">(static) </span>throwFnHO<span class="signature">(message)</span><span class="type-signature"> &rarr; {function}</span></h4>

    



<div class="description">
    <p>Returns a function that throws an Error</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>message</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>Error message</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_test-helpers.js.html">lib/test-helpers.js</a>, <a href="lib_test-helpers.js.html#line100">line 100</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Function that throws an error</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">function</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".unitTest"><span class="type-signature">(static) </span>unitTest<span class="signature">(testFn, testDescription, cb)</span><span class="type-signature"> &rarr; {function}</span></h4>

    



<div class="description">
    <p>Return a function that will execute a test with a given description</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>testFn</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Test engine</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>testDescription</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>Unit test description</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cb</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Callback called with test engine object</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_test-helpers.js.html">lib/test-helpers.js</a>, <a href="lib_test-helpers.js.html#line37">line 37</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Unit test handler</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">function</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~prepareForTests"><span class="type-signature">(inner) </span>prepareForTests<span class="signature">(testFileName, customStubs)</span><span class="type-signature"> &rarr; {Mixed}</span></h4>

    



<div class="description">
    <p>Prepare a module for tests by requiring it with stubs
Module name is based on the given test file name that
will consume the prepared module.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>testFileName</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>Test file name</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>customStubs</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>Custom stubs for the proxified module</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_test-helpers.js.html">lib/test-helpers.js</a>, <a href="lib_test-helpers.js.html#line246">line 246</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Proxified module</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Mixed</span>


    </dd>
</dl>

    



        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-API_Controllers_Entities.html">API/Controllers/Entities</a></li><li><a href="module-API_Controllers_Loader.html">API/Controllers/Loader</a></li><li><a href="module-Configuration_Default.html">Configuration/Default</a></li><li><a href="module-Configuration_Environment.html">Configuration/Environment</a></li><li><a href="module-Configuration_Loader.html">Configuration/Loader</a></li><li><a href="module-Library_Test-Helpers.html">Library/Test-Helpers</a></li><li><a href="module-Library_Utilities.html">Library/Utilities</a></li><li><a href="module-Main.html">Main</a></li><li><a href="module-Middlewares_404.html">Middlewares/404</a></li><li><a href="module-Middlewares_Error.html">Middlewares/Error</a></li><li><a href="module-Middlewares_Loader.html">Middlewares/Loader</a></li><li><a href="module-Middlewares_Swagger.html">Middlewares/Swagger</a></li><li><a href="module-Models_Entity.html">Models/Entity</a></li><li><a href="module-Models_Loader.html">Models/Loader</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Mon Jul 11 2016 01:29:58 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>